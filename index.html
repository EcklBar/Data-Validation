<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache Kafka: The Complete Guide</title>
    <style>
        :root {
            --primary-color: #2C3E50;
            --accent-color: #E67E22;
            --bg-color: #Fdfdfd;
            --sidebar-width: 260px;
            --text-color: #333;
            --code-bg: #f4f4f4;
            --terminal-bg: #2d2d2d;
            --terminal-text: #4af626;
            --border-color: #ddd;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            margin: 0;
            display: flex;
        }

        /* Sidebar Navigation */
        nav {
            width: var(--sidebar-width);
            background: #f8f9fa;
            height: 100vh;
            position: fixed;
            padding: 20px;
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            z-index: 100;
        }

        nav h3 {
            color: var(--primary-color);
            margin-top: 0;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
        }

        nav ul {
            list-style: none;
            padding: 0;
        }

        nav ul li {
            margin-bottom: 12px;
        }

        nav a {
            text-decoration: none;
            color: #555;
            font-weight: 500;
            font-size: 0.9rem;
            transition: color 0.2s;
            display: block;
        }

        nav a:hover {
            color: var(--accent-color);
            padding-left: 5px;
        }

        /* Main Content */
        main {
            margin-left: var(--sidebar-width);
            padding: 40px 60px;
            max-width: 950px;
            width: 100%;
        }

        h1 {
            font-size: 2.5rem;
            color: var(--primary-color);
            border-bottom: 3px solid var(--accent-color);
            padding-bottom: 10px;
            margin-bottom: 30px;
        }

        h2 {
            color: var(--primary-color);
            margin-top: 50px;
            border-left: 6px solid var(--accent-color);
            padding-left: 15px;
            font-size: 1.8rem;
        }

        h3 {
            color: #2980b9;
            margin-top: 30px;
            font-weight: 600;
        }

        h4 {
            color: #444;
            margin-bottom: 5px;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 1px;
            font-weight: 700;
        }

        /* Notebook Elements */
        .note-block {
            background-color: #eefbfb;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .warning-block {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .concept-card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .two-col-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }

        .three-col-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .api-table, .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            font-size: 0.95rem;
        }

        th, td {
            border: 1px solid var(--border-color);
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: var(--primary-color);
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        /* Terminal/Code Styling */
        .terminal {
            background-color: var(--terminal-bg);
            color: var(--terminal-text);
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', Courier, monospace;
            overflow-x: auto;
            margin: 10px 0;
            border-left: 5px solid #777;
        }
        
        .terminal-comment {
            color: #aaa;
            font-style: italic;
        }

        .inline-code {
            background-color: var(--code-bg);
            padding: 2px 5px;
            border-radius: 3px;
            font-family: 'Courier New', Courier, monospace;
            color: #c7254e;
            border: 1px solid #ddd;
        }

        .step-list {
            list-style-type: none;
            counter-reset: step-counter;
            padding: 0;
        }
        .step-list li {
            counter-increment: step-counter;
            margin-bottom: 20px;
            position: relative;
            padding-left: 40px;
        }
        .step-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: var(--accent-color);
            color: white;
            width: 25px;
            height: 25px;
            text-align: center;
            border-radius: 50%;
            line-height: 25px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* Distribution Logos placeholder styling */
        .distro-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            color: var(--primary-color);
            font-weight: bold;
        }

    </style>
</head>
<body>

<nav>
    <h3>Naya College</h3>
    <ul>
        <li><a href="#intro">1. Introduction</a></li>
        <li><a href="#etl-vs-streaming">2. ETL vs. Streaming</a></li>
        <li><a href="#architecture">3. High-Level Architecture</a></li>
        <li><a href="#fundamentals">4. Fundamental Concepts</a></li>
        <li><a href="#brokers">4.1 Brokers & Cluster</a></li>
        <li><a href="#topics">4.2 Topics & Partitions</a></li>
        <li><a href="#replication">4.3 Replication</a></li>
        <li><a href="#apis">5. Core APIs</a></li>
        <li><a href="#distributions">6. Main Distributions</a></li>
        <li><a href="#installation">7. Installation Guide</a></li>
        <li><a href="#cli">8. CLI & Technical Implementation</a></li>
        <li><a href="#topic-management">8.1 Topic Management</a></li>
        <li><a href="#producer-consumer">8.2 Producer & Consumer</a></li>
    </ul>
</nav>

<main>
    <h1>Apache Kafka Notebook</h1>
    <p><em>Comprehensive guide based on Naya College Data Engineering curriculum.</em></p>

    <section id="intro">
        <h2>1. What is Apache Kafka?</h2>
        <p>Apache Kafka is a distributed streaming platform based on the <strong>Pub-Sub (Publish-Subscribe)</strong> model.</p>
        <div class="note-block">
            <strong>Key takeaway:</strong> Kafka serves as a "central nervous system" for organization data, decoupling data providers from data consumers.
        </div>
            </section>

    <section id="etl-vs-streaming">
        <h2>2. Evolution: ETL vs. Streaming</h2>
        <div class="two-col-grid">
            <div class="concept-card">
                <h4>Old World (Traditional ETL)</h4>
                <ul>
                    <li>Batch processing (nightly/hourly).</li>
                    <li>Not real-time.</li>
                    <li>Complex point-to-point connections ("Spaghetti Architecture").</li>
                </ul>
            </div>
            <div class="concept-card">
                <h4>New World (Kafka Streaming)</h4>
                <ul>
                    <li>Real-time event capturing.</li>
                    <li>Fault tolerant & Parallel processing.</li>
                    <li>Decoupled Producers and Consumers.</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="architecture">
        <h2>3. High-Level Architecture</h2>
        <p>Kafka creates a central streaming platform that ingests data from <strong>Producers</strong> and serves it to <strong>Consumers</strong>.</p>
            </section>

    <section id="fundamentals">
        <h2>4. Fundamental Concepts</h2>
        <h3 id="brokers">4.1 Brokers & Cluster</h3>
        <p>A <strong>Broker</strong> is a Kafka server. A <strong>Cluster</strong> is multiple brokers working together. If you connect to one broker, you connect to the whole cluster.</p>

        <h3 id="topics">4.2 Topics & Partitions</h3>
        <p>A <strong>Topic</strong> is a logical category for data. Topics are split into <strong>Partitions</strong> for scalability.</p>
        <div class="warning-block">
            <strong>CRITICAL RULE:</strong> Data ordering is guaranteed <strong>ONLY within a single partition</strong>, not across the whole topic.
        </div>
        
        <h3 id="replication">4.3 Replication</h3>
        <p>Partitions are replicated for fault tolerance. There is one <strong>Leader</strong> (handles all reads/writes) and multiple <strong>Followers</strong> (passive backups).</p>
    </section>

    <section id="apis">
        <h2>5. Core APIs</h2>
        <p>Kafka provides 5 main APIs: <strong>Producer, Consumer, Streams, Connect (Source/Sink), and AdminClient</strong>.</p>
    </section>

    <section id="distributions">
        <h2>6. Main Distributions</h2>
        <p>While Kafka is open source, there are several ways to consume it, ranging from raw open source to managed enterprise solutions.</p>

        <div class="three-col-grid">
            <div class="concept-card">
                <h4>Apache Kafka (Native)</h4>
                <p>The pure open-source version.</p>
                <ul>
                    <li>100% Open Source code.</li>
                    <li>Good for standalone implementation.</li>
                    <li>Requires manual configuration.</li>
                </ul>
            </div>

            <div class="concept-card">
                <h4>Confluent</h4>
                <p>Founded by the creators of Kafka.</p>
                <ul>
                    <li><strong>Community:</strong> Open source (free).</li>
                    <li><strong>Enterprise:</strong> Includes Control Center UI, Security, and more.</li>
                    <li>Built-in <strong>Kafka Connectors</strong>.</li>
                </ul>
            </div>

            <div class="concept-card">
                <h4>Cloudera (CDH)</h4>
                <p>Integrated into the Hadoop ecosystem.</p>
                <ul>
                    <li>Managed via <strong>Cloudera Manager</strong>.</li>
                    <li>Good if you already use CDH/Hadoop.</li>
                </ul>
            </div>

            <div class="concept-card">
                <h4>Hortonworks (HDP)</h4>
                <p>100% Open source, no licensing fees.</p>
                <ul>
                    <li>Managed via <strong>Ambari</strong>.</li>
                    <li>Similar use case to Cloudera (Hadoop environments).</li>
                </ul>
            </div>

            <div class="concept-card">
                <h4>AWS Amazon Kinesis</h4>
                <p>Cloud-native alternative.</p>
                <ul>
                    <li>Runs in AWS cloud environment.</li>
                    <li>Integrates with other AWS products.</li>
                </ul>
            </div>

            <div class="concept-card">
                <h4>GCP Pub/Sub</h4>
                <p>Google Cloud alternative.</p>
                <ul>
                    <li>Asynchronous messaging.</li>
                    <li>Reliable, many-to-many communication.</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="installation">
        <h2>7. Installation Basics (Linux / Mac)</h2>
        
        <ol class="step-list">
            <li>
                <strong>Install Java (JDK)</strong><br>
                Kafka runs on the JVM. Download from Oracle or OpenJDK.
            </li>
            <li>
                <strong>Download Kafka</strong><br>
                Get the latest binary from <span class="inline-code">kafka.apache.org/downloads</span>.
            </li>
            <li>
                <strong>Unpack</strong><br>
                <div class="terminal">$ tar -xzf &lt;kafka_tarball&gt;<br>$ cd &lt;kafka_directory&gt;</div>
            </li>
            <li>
                <strong>Start Zookeeper</strong><br>
                Zookeeper must be running <em>before</em> Kafka starts.
                <div class="terminal">$ bin/zookeeper-server-start.sh config/zookeeper.properties</div>
            </li>
            <li>
                <strong>Start Kafka Server</strong><br>
                <div class="terminal">$ bin/kafka-server-start.sh config/server.properties</div>
            </li>
        </ol>
    </section>

    <section id="cli">
        <h2>8. CLI & Technical Implementation</h2>
        <p>Once Kafka is running, we use Command Line Interface (CLI) tools to manage topics and send/receive data.</p>
        
        
        <h3 id="topic-management">8.1 Topic Management</h3>
        
        <div class="concept-card">
            <h4>Create a Topic</h4>
            <p>We define the name, number of partitions, and replication factor.</p>
            <div class="terminal">
<span class="terminal-comment"># Create a topic named 'kafka-tst-01'</span>
$ kafka-topics --create --zookeeper localhost:2181/kafka \
  --replication-factor 1 \
  --partitions 1 \
  --topic kafka-tst-01
            </div>
            <ul>
                <li><span class="inline-code">--zookeeper</span>: The host/port for the Zookeeper service (Port 2181).</li>
                <li><span class="inline-code">--replication-factor</span>: How many copies of data to keep.</li>
                <li><span class="inline-code">--partitions</span>: How many splits for the topic.</li>
            </ul>
        </div>

        <div class="concept-card">
            <h4>List Topics</h4>
            <div class="terminal">
$ kafka-topics --zookeeper localhost:2181/kafka --list
            </div>
            <p><strong>Output Example:</strong><br>
            <span style="color:red">kafka-tst-01</span><br>
            <span style="color:red">kafka-tst-02</span></p>
        </div>

        <h3 id="producer-consumer">8.2 Producer & Consumer Tutorial</h3>
        <p>In this basic tutorial, we create a <strong>Source</strong> (Producer) and a <strong>Target</strong> (Consumer) in two separate terminal windows.</p>

        <div class="two-col-grid">
            <div class="concept-card">
                <h4>Step 1: The Producer (Source)</h4>
                <p>Sets up a process to <strong>capture</strong> incoming messages (stdin).</p>
                <div class="terminal">
$ kafka-console-producer \
  --broker-list localhost:9092 \
  --topic kafka-tst-01
                </div>
                <ul>
                    <li><span class="inline-code">--broker-list</span>: List of available brokers (Port 9092 is default).</li>
                </ul>
            </div>

            <div class="concept-card">
                <h4>Step 2: The Consumer (Target)</h4>
                <p>Sets up a process to <strong>write</strong> (display) incoming messages.</p>
                <div class="terminal">
$ kafka-console-consumer \
  --bootstrap-server localhost:9092 \
  --topic kafka-tst-01
                </div>
                <ul>
                    <li><span class="inline-code">--bootstrap-server</span>: Initial host acting as starting point for the client.</li>
                </ul>
            </div>
        </div>
        
        <div class="note-block">
            <strong>Action:</strong> Type a message in the Producer terminal -> It appears instantly in the Consumer terminal. This confirms real-time streaming.
        </div>
    </section>

</main>

</body>
</html>
